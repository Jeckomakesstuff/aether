<!DOCTYPE html>
<html>
<head>
    <title>Aether Debug Console</title>
    <style>
        body { 
            background: #0a0a0a; color: #ccc; 
            font-family: Consolas, monospace; font-size: 12px; 
            padding: 10px; margin: 0; 
            display: flex; flex-direction: column; height: 100vh; overflow: hidden; 
        } 
        h3 { border-bottom: 1px solid #333; padding-bottom: 10px; margin-top: 0; color: #fff; flex-shrink: 0; }
        #logs { flex: 1; overflow-y: auto; padding-right: 5px; white-space: pre-wrap; word-wrap: break-word; }
        ::-webkit-scrollbar { width: 8px; } 
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-track { background: #0a0a0a; }
        .sys { color: #00ff88; } .game { color: #e0e0e0; } .err { color: #ff5555; }
        div { margin-bottom: 2px; }
    </style>
</head>
<body>
    <h3>Aether Debug Log</h3>
    <div id="logs"></div>
    <script>
        const { ipcRenderer } = require('electron');
        const logDiv = document.getElementById('logs');

        ipcRenderer.on('log-data', (event, msg, type) => {
            const div = document.createElement('div');
            div.textContent = msg;
            div.className = type || 'sys';
            logDiv.appendChild(div);
            
            // Limit to 500 lines to prevent RAM usage/lag
            if (logDiv.children.length > 500) logDiv.removeChild(logDiv.firstChild);
            logDiv.scrollTop = logDiv.scrollHeight;
        });
        
        ipcRenderer.send('console-ready');
    </script>
</body>
</html>